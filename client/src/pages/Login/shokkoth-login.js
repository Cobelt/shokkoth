import React from 'react';
import get from 'lodash.get';

export default ({ look, ...otherProps }) => {
  console.log('received look=', look);
  const bg = { strokeWidth: 4, className: 'external-border', cx: 50, cy: 50, r: 48 };

  let decalage = 20
  if (look !== 'away')
    decalage = Math.min(parseInt(get(look.match(/#(\d+)$/i), '[1]') || decalage, 10), 40)

  const spikes = { fill: '#0A7590', d: "M 50.000 80.000 L 58.652 86.630 L 61.756 76.180 L 72.652 76.458 L 69.021 66.180 L 78.000 60.000 L 69.021 53.820 L 72.652 43.542 L 61.756 43.820 L 58.652 33.370 L 50.000 40.000 L 41.348 33.370 L 38.244 43.820 L 27.348 43.542 L 30.979 53.820 L 22.000 60.000 L 30.979 66.180 L 27.348 76.458 L 38.244 76.180 L 41.348 86.630 L 50.000 80.000 z" }

  const hideSpikesBasis = { fill: '#fafafa', cx: 50, cy: 60, r: 23.5 };
  const hideSpikesExternal = { fill: '#fafafa', d: "M 50.000 82.000 L 59.271 88.532 L 62.931 77.798 L 74.271 77.634 L 70.923 66.798 L 80.000 60.000 L 70.923 53.202 L 74.271 42.366 L 62.931 42.202 L 59.271 31.468 L 50.000 38.000 L 40.729 31.468 L 37.069 42.202 L 25.729 42.366 L 29.077 53.202 L 20.000 60.000 L 29.077 66.798 L 25.729 77.634 L 37.069 77.798 L 40.729 88.532 L 50.000 82.000 z" };
  const hideSpikesDeco = { fill: 'none', stroke: '#fafafa', strokeWidth: 1, cx: 50, cy: 60, r: 26, style: { opacity: 0.35 } };
  const body = { fill: '#0A7590', cx: 50, cy: 60, r: 22 };
  const neck = { fill: '#80fb8d', d: "m 52 38 c 5 -35 -5 -35 -10 -24 c -1 15 10 -20 6 24", stroke: '#5ef36d', strokeWidth: 0.4 };

  const eyeBorder = { fill: '#fafafa', d: "m 50 17 c 0 -4 -4 -3 -5 -10 c 0 -1 -2 -1 -2 0 c -1 7 -6 6 -5 10 c 0 2 10 2 12 0", style: { transform: 'scale(1.25) translate(-8%, -2.8%)' } };
  const eye = { fill: '#1A5C58', d: "m 50 17 c 0 -4 -4 -3 -5 -10 c 0 -1 -2 -1 -2 0 c -1 7 -6 6 -5 10 c 0 2 10 2 12 0" }
  const eyelid = { fill: '#1A5C58', cx: 44, cy: 14.7, r: 4.5 }
  const iris = { fill: '#ECD55D', d: "m 41 15 a -4 -4 4 0 0 6 0" }
  {/* eye closed: path("m 41 15 a -10 -15 4 0 0 6 0") */}

  const mouth = { fill: '#dcdbaa', d: "m 44 50 c 4 -1 6 -1 12 0 c 15 10 15 18 0 15 c -4 -1 -6 -1 -12 0 c -15 4 -15 -5 0 -15" }

  return (
  	<svg
  		viewBox="0 0 100 100"
  		style={{ enableBackground: "new 0 0 100 100" }}
  		xmlSpace="preserve"
  		{ ...otherProps }
  	>
      <circle {...bg} />

      <path style={{ transform: 'scale(21, -19) translate(-0.12%, -5.15%)' }} fill="#80fb8d"
      d="M1.023,2.386 C1.24,2.516,1.51,2.514,1.724,2.402 c0.007-0.003,0.013-0.007,0.021-0.012 c0,0,0,0,0,0 C1.75,2.388,1.753,2.386,1.757,2.383 c0.194-0.112,0.16,0.074-0.056,0.218 C1.689,2.609,1.679,2.616,1.67,2.624 C1.667,2.625,1.665,2.627,1.662,2.629 C1.572,2.686,1.491,2.745,1.419,2.823 C1.312,2.94,1.24,3.146,1.328,3.296 c0.057,0.099,0.137,0.181,0.196,0.279 c0.077,0.128,0.091,0.417-0.145,0.343 C1.367,3.914,1.353,3.927,1.36,3.938 c0.091,0.138,0.256,0.094,0.358-0.014 c0.177-0.187,0.036-0.457-0.07-0.633 c-0.14-0.234,0.101-0.309,0.269-0.384 C2.254,2.9 3.5,2.738,3.37,3.278 C3.272,3.459,3.145,3.736,3.33,3.914 c0.106,0.103,0.273,0.139,0.358-0.003c0.007-0.012-0.008-0.023-0.019-0.02C3.437,3.976,3.437,3.687,3.508,3.555 c0.054-0.1,0.13-0.186,0.183-0.288c0.08-0.154,0-0.356-0.113-0.468C3.502,2.724,3.418,2.67,3.326,2.617 c-0.009-0.005-0.018-0.01-0.027-0.016l0,0c-0.217-0.144-0.25-0.33-0.057-0.218c0.004,0.002,0.008,0.005,0.013,0.007l0,0 C3.263,2.395,3.27,2.399,3.276,2.402 C3.491,2.514,3.76,2.516,3.977,2.386 C4.185,2.261,4.33,1.999,4.22,1.756 C4.105,1.498,3.865,1.46,3.65,1.623 c-0.02,0.015-0.007,0.043,0.017,0.039 C3.976,1.595,4.161,1.896,3.88,2.088 c-0.186,0.127-0.412-0.039-0.516-0.19 c-0.024-0.035-0.045-0.072-0.065-0.11 c0-0.001,0-0.001,0-0.001 C3.29,1.77,3.282,1.752,3.274,1.734C3.27,1.724,3.265,1.713,3.26,1.702c0.082-0.013,0.167-0.047,0.226-0.107 c0.073-0.075,0.107-0.162,0.138-0.26c0.041-0.127,0.083-0.266,0.221-0.304c0.068-0.019,0.125-0.025,0.188,0.034 s0.058,0.138,0.023,0.213c-0.011,0.025,0.02,0.057,0.04,0.032c0.046-0.055,0.087-0.111,0.089-0.187 c0.002-0.082-0.041-0.172-0.104-0.225c-0.154-0.129-0.359-0.11-0.513,0.01 C3.503,0.96,3.451,1.029,3.413,1.103 C3.389,1.147,3.374,1.195,3.351,1.24 c-0.021,0.039-0.05,0.072-0.077,0.107 C3.26,1.366,3.243,1.373,3.224,1.376 C3.208,1.38,3.162,1.388,3.137,1.381 c0,0,0,0,-1,-0 C1.843,1.388,1.796,1.38,1.78,1.376 c-0.019-0.003-0.036-0.01-0.051-0.029C1.703,1.312,1.673,1.279,1.653,1.24C1.63,1.195,1.615,1.147,1.592,1.103 C1.553,1.029,1.501,0.96,1.436,0.909C1.282,0.788,1.077,0.77,0.922,0.898C0.859,0.951,0.817,1.041,0.819,1.123 C0.82,1.199,0.861,1.254,0.907,1.31c0.02,0.024,0.052-0.007,0.04-0.032c-0.035-0.075-0.04-0.154,0.023-0.213 c0.062-0.059,0.12-0.052,0.188-0.034c0.139,0.038,0.181,0.177,0.221,0.304c0.032,0.098,0.066,0.186,0.139,0.26 c0.058,0.06,0.142,0.094,0.223,0.107c-0.005,0.011-0.01,0.021-0.015,0.032C1.718,1.752,1.71,1.77,1.702,1.787c0,0,0,0,0,0.001 c-0.02,0.038-0.041,0.075-0.065,0.11c-0.104,0.151-0.33,0.317-0.516,0.19C0.84,1.896,1.024,1.595,1.333,1.661 c0.024,0.005,0.036-0.024,0.017-0.039 C1.136,1.46,0.896,1.498,0.78,1.756 C0.671,1.999,0.815,2.261,1.023,2.386z" />

      <path {...hideSpikesExternal} />
      <path {...spikes} />


      <path {...neck} />
      <circle {...hideSpikesBasis} />
      <circle {...body} />
      <path {...mouth} />


      <path {...eyeBorder} />
      <path {...eye} />
      <circle {...eyelid} />
      <path {...iris} />
  	</svg>
  );
}
